資源分享頁面功能規格書

1. 頁面佈局與結構 (Page Structure)

1.1 頂部搜尋與全局篩選 (Top Search & Global Filters)

資源搜尋框：支援關鍵字搜尋資源名稱、標籤或相關課程。

快捷分類標籤 (Quick Categories)：如「全部資源」、「專案源碼」、「電子書/講義」、「工具軟體」、「面試題庫」。

1.2 側邊篩選導航 (Filter Sidebar)

關聯課程 (Related Courses)：下拉選單或清單，過濾特定課程所屬的資源。

檔案類型 (File Types)：PDF, ZIP,連結 (Link), 影片 (Video), 圖片 (Image)。

難易度等級 (Level)：入門、進階、專業。

資源熱度 (Hotness)：最新上架、最多下載、最高評分。

1.3 資源展示區域 (Resource Grid/List)

佈局切換：提供「網格 (Grid)」與「列表 (List)」兩種顯示模式切換。

資源卡片：展示檔案圖示、名稱、大小、上傳日期及下載次數。

2. 元件定義 (Component Specifications)

2.1 資源卡片元件 (Resource Card)

檔案圖示：根據擴展名顯示對應圖示（如 PDF 顯示紅圖示，ZIP 顯示黃圖示）。

資源標題：點擊可開啟資源詳情或直接觸發預覽。

標籤與描述：顯示簡短的資源描述與相關技術標籤（如 #React, #Tailwind）。

操作按鈕組：

「預覽 (Preview)」：在線查看 PDF 或影片。

「下載 (Download)」：獲取檔案。

「收藏 (Favorite)」：儲存至個人中心。

2.2 權限提示組件 (Permission Indicator)

狀態標籤：

開放 (Public)：所有人皆可下載。

學員限定 (Premium)：僅該課程購買者可下載（顯示鎖頭）。

積分兌換 (Points)：需消耗平台積分。

3. API 整合邏輯 (API Integration)

3.1 資源清單獲取

API：GET /api/v1/resources

參數：query, category, course_id, type, sort, page。

行為：載入初始資源，支援分頁與無限捲動。

3.2 資源下載與追蹤

API：GET /api/v1/resources/{id}/download

行為：

前端發起請求，後端檢查該使用者是否具備下載權限（是否購買相關課程）。

若權限通過，返回暫時性下載連結 (Pre-signed URL)。

同步增加該資源的 download_count。

3.3 收藏功能

API：POST /api/v1/resources/{id}/favorite

行為：切換使用者的收藏狀態。

4. 核心功能邏輯 (Core Logic)

4.1 存取權限控制 (Access Control)

行為：

當未登入使用者點擊下載「學員限定」資源時，跳轉至登入頁。

當已登入但未購買該課程的使用者點擊時，顯示「購買課程即可獲取資源」的提示彈窗。

4.2 在線預覽機制

行為：

PDF 檔案：調用瀏覽器內建或第三方 PDF.js 預覽。

代碼/文本：使用語法高亮組件（如 Prism.js）展示。

外部連結：直接導向目標網址。

4.3 檔案版本控管

行為：同一資源若有更新，應顯示「版本號 (v1.x)」並提供更新日誌。

5. 異常處理與狀態 (State & Error Handling)

檔案失效 (File Expired)：若資源連結失效，下載按鈕應顯示「檔案維護中」並提供報修功能。

搜尋無結果：顯示「目前尚無相關資源」，並推薦「熱門下載」資源。

流量限制：若短時間內下載次數過多，觸發驗證碼機制防止機器人抓取。

6. 交互行為 (Interactions)

拖拽上傳 (講師端)：若使用者為講師，頁面右上角顯示「分享資源」按鈕，支援拖拽檔案上傳。

批次操作：支援選取多個資源後一鍵打包下載 (ZIP)。

即時反應：點擊收藏後，愛心圖標應立即變色，無需重新整理頁面。