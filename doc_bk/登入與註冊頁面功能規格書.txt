登入與註冊頁面功能規格書

1. 頁面佈局與結構 (Page Structure)

1.1 核心佈局 (General Layout)

容器設計：採用置中卡片 (Card) 設計，確保在桌面端與行動端皆能保持良好的閱讀體驗。

切換機制：在卡片底部提供「還沒有帳號？立即註冊」或「已有帳號？立即登入」的切換連結。

1.2 登入頁面 (Login Page)

帳號輸入：電子郵件 (Email) 欄位。

密碼輸入：支援顯示/隱藏密碼切換按鈕。

輔助功能：

「記住我」勾選框。

「忘記密碼？」連結。

第三方登入區：提供 Google、Facebook 等 OAuth 登入按鈕。

1.3 註冊頁面 (Registration Page)

基本資訊：姓名 (Full Name)、電子郵件 (Email)。

密碼設定：密碼輸入框與「再次輸入密碼」確認框。

條款同意：勾選框，包含「我已閱讀並同意服務條款與隱私權政策」連結。

2. API 整合邏輯 (API Integration)

2.1 登入流程

API：POST /api/v1/auth/login

行為：

使用者提交 Email 與 Password。

成功後：後端回傳 Access Token 與 Refresh Token。

前端處理：將 Token 存儲於 LocalStorage 或 Secure Cookie，並導向首頁或原先請求的頁面。

2.2 註冊流程

API：POST /api/v1/auth/register

行為：

使用者提交姓名、Email、密碼及確認密碼。

成功後：自動執行登入流程或導向「註冊成功」提示頁面，引導進行 Email 驗證。

2.3 第三方登入 (OAuth)

API：GET /api/v1/auth/oauth/{provider}

行為：點擊按鈕時，導向對應的 Provider 驗證頁面。

2.4 Token 刷新

API：POST /api/v1/auth/refresh

行為：當前端偵測到 Access Token 過期（通常為 API 回傳 401 錯誤），自動呼叫此介面更新 Token。

3. 欄位驗證邏輯 (Validation Logic)

3.1 即時驗證 (Client-side)

電子郵件：必須符合正規表示式 (Regex) 格式（如 example@domain.com）。

密碼強度：

最少 8 個字元。

必須包含大小寫字母及數字。

確認密碼：必須與「密碼設定」欄位數值完全一致。

3.2 伺服器驗證回饋 (Server-side)

錯誤提示：

帳號或密碼錯誤（401 Unauthorized）。

此 Email 已被註冊（409 Conflict）。

帳號遭停權或未驗證。

4. 狀態處理與異常處理 (State & Error Handling)

載入狀態 (Loading)：提交表單時，按鈕顯示 Loading 動畫並禁用 (Disabled)，防止重複提交。

錯誤通知：使用全域訊息框 (Toast/Alert) 顯示錯誤原因。

OAuth 失敗：若第三方授權被拒絕，應返回登入頁並顯示「授權取消或失敗」。

5. 交互行為 (Interactions)

自動聚焦 (Auto-focus)：進入頁面時，第一個輸入欄位自動聚焦。

鍵盤支援：在輸入欄位按下 Enter 鍵應觸發提交動作。

密碼安全性：密碼欄位預設為隱藏字元，提供眼睛圖標供切換。